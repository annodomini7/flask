# import csv
# from data import db_session
# from data.medicine import Medicine
#
# with open('tovar.csv', encoding="windows-1251") as csvfile:
#     reader = csv.DictReader(csvfile, delimiter=';', quotechar='"')
#     db_session.global_init("db/pharmacy.db")
#     session = db_session.create_session()
#     for el in reader:
#         # print(, ,, , )
#         user = Medicine()
#         user.barcode = el['BARCODE']
#         user.name = el['NAZV']
#         user.form = el['FORMA']
#         user.dose = el['DOZ']
#         user.marka = el['MAKER']
#         session.add(user)
#         session.commit()
import csv
from data import db_session
from data.med import Med
from random import shuffle, randint
from data.data import Data

data = ['8901387007977', '8904091127177', '8699516099879', '8901148007017', '4601669013255', '90266010',
        '4602233006949', '4603988013701', '4607005930231', '4820014860065', '4607119620066', '4603761001260',
        '4602565013127', '8901387043333', '7680500099006', '3838989540371', '4607003249717', '4607045190046',
        '4250142198905', '5944702205279', '3838989649722', '4680039380036', '5000158101791', '4601669011466',
        '4250369506507', '4823002222012', '5944702000010', '3582910082668', '4603184003445', '4250369505555',
        '4605964006394', '5000158104501', '4607003244705', '4605964003973', '4029438020059', '8901278004030',
        '3574661507484', '8600097001021', '4607178950388', '5350586000495', '4603179003672', '4605095011656',
        '4029917000220', '3856013208578', '4607003665043', '4603762002839', '8901086040022', '4607005935120',
        '4607008132564', '3838989685393', '4640018640148', '4603365000164', '8906000574072', '4601026309441',
        '4670028226438', '8904091116621', '4011548020777', '8906000570883', '4601026309397', '4607027765163',
        '4602824000257', '4607045192316', '4650069650478', '4030031898341', '4607005934062', '4607003248505',
        '4603988011080', '7321838730888', '4605077009411', '4603988016498', '4603671001336', '4601669003799',
        '4660003080018', '4602193011250', '4670010370965', '8594737235016', '4607045190091', '8904091127092',
        '4104480705021', '4607143560659', '4601669010483', '8901278003033', '4030855000104', '4601498007340',
        '4602193011694', '4604060991597', '4601669009791', '4054839084300', '4607045190787', '4607005935168',
        '4603149000533', '3582910069706', '4603671001572', '4603762000729', '4601669006752', '3664798000207',
        '4607027769321', '4601669011879', '4602824000486', '4602193010734', '4601669012944', '5900257022310',
        '4620011583635', '4104480706158', '3838957895885', '4607006671423', '8934901810272', '4602809006342',
        '4030096245128', '4603761000775', '8901278003026', '4607008132182', '3838989680862', '4013054022887',
        '4030855000012', '4605964003874', '3858881054691', '8594737219610', '4604060006840', '4607027764128',
        '4607045191616', '4601669003669', '4607146761275', '9005441702149', '5050963015639', '4601669001931',
        '5995327211039', '3856013219840', '5011321748958', '5995327253237', '4603695002210', '8901086100108',
        '3838989652784', '3856013219833', '4029799171469', '4607013581074', '3838989513139', '4601498007173',
        '4607045192262', '4670012610540', '4603988010984', '5000158103993', '4607045190220', '4607045192323',
        '4601808013412', '4605964004628', '4607027761912', '4601764001744', '4605964003881', '5995377480331',
        '4607045192019', '4605964007193', '4601026308383', '4607008133257', '7640149723007', '4601669006967',
        '4607027761905', '6221088010253', '8594739224612', '4601669003713', '3800010629744', '4606486025306',
        '4603256000815', '4029799117245', '4601764007401', '4650099783597', '4602824006143', '4603179004907',
        '5995377360244', '4250369505685', '4030096288453', '4601498006381', '4810133000954', '4602193012462',
        '4601669012197', '4603619000063', '5997001303269', '4605964003942', '3800010629690', '5702589913072',
        '4605404001132', '4602565005788', '4610004581366', '4603149000472', '4008617149774', '8901086080219',
        '4029438005049', '4250369506408', '4602546010787', '4603380004666', '4605964003966', '3582910081203',
        '4602505008992', '4602233006871', '4680013244088', '8699516089832', '4250369506477', '8594737223914',
        '3858881054738', '4607027768355', '3582910082590', '4602242010432', '5995327130071', '4680013244682',
        '4013054023884', '8934901810289', '4054839084348', '4602884008521', '5000158100169', '4607007361507',
        '4011548020760', '4650069650485', '5000158101814', '4607006677050', '8699516089856', '5944702001871',
        '4607005930248', '4603933003887', '8901278003040', '8906000570685', '4011548025772', '5000158103740',
        '4660041990027', '4604060001982', '4606486002284', '4603619000131', '4603695002203', '4601429002253',
        '4607119620158', '4607006670549', '8717627107006', '4603695005389', '4602193011649', '8901109217493',
        '4607008131321', '4016369661307', '8906000571217', '4605964003829', '4603619000124', '4601429001096',
        '4750258314171', '4601026308420', '4250369505609', '4603679007309', '4601969006940', '9006968003993',
        '4030855511402', '5000158100183', '4601026309380', '3664798002959', '4084500757288', '5350586000228',
        '4607141998928', '8901043001509', '4607006673182', '4810201010618', '9006968003115', '3870010000645',
        '4601026308444', '4605095005563', '3582910061694', '4601969008678', '4605077009688', '5050963015622',
        '8594737231018', '3838989530273', '4601669006769', '7038319033528', '8901043000892', '4607011634628',
        '8717627103213', '4607006670457', '8699516099862', '4030096292733', '8901302057490', '4602242010418',
        '3856013223694', '8717627110525', '4030855000197', '8904091116638', '4019338600192', '4610011895425',
        '4250369506484', '9006968003214', '4601669012890', '3870010001734', '4030855511228', '4602193012509',
        '9006968003139', '3800010650175', '4607027768997', '4607008132151', '4603988013947', '4601669003928',
        '4603149000458', '8906000573549', '4605077009435', '4029799116248', '4602876001660', '8904091107377',
        '4680013244187', '4602565012076', '3582910069324', '4601026308413', '4601669006905', '4013054001523',
        '4602546010671', '4603988003993', '4601429001102', '8901387007885', '4604060006833', '4606367001542',
        '4601026308451', '8901086261120', '4603671003200', '4250369505647', '5907529464274', '4601429000679',
        '4603679000881', '4602193010772', '5944702206931', '3856013219017', '3838989530280', '4250369506491',
        '4603671003217', '3850343026963', '4602505008466', '4602565013134', '4602242005155', '4030096119412',
        '4054839084331', '4810201014210', '4602565019594', '8901043000465', '5944702206917', '3850114229807',
        '4603905004942', '4605180006949', '4029799131753', '4607141998904', '4030031893308', '4603179004488',
        '3856013219031', '4606367000330', '4680013244453', '8904091106417', '4630056070151', '4605964003898',
        '4603761000225', '5702589914062', '8901278004016', '4601669012883', '3664798011685', '4603149000106',
        '4601764007388', '5350586000211', '8906000570906', '4030855027804', '4016369662311', '3574661424057',
        '8600064422019', '3574661507453', '4670012610533', '5000158100985', '5995327130118', '4670028223550',
        '4607006672284', '4029799131814', '4601969006988', '4603933000725', '3850343026994', '4607006670495',
        '4600828005278', '4054839084355', '8594737248719', '4607003249724', '8901387030210', '4601808008333',
        '8600097303415', '4605964003706', '4250369506446', '3800021100591', '4602565019587', '8717627103237',
        '3838989713195', '4640018640919', '4030855000524', '7640149723014', '5900257035013', '4601969007411',
        '4603695000964', '3838989540340', '4607003249441', '4607006671430', '5944702206818', '3870010000652',
        '5944702206771', '4016369661130', '4607141998898', '4610011893544', '5450557010277', '3838989582296',
        '4607009582108', '4601026308406', '8717627107013', '9006968004013', '4606486025283', '4601026308369',
        '4602813000268', '4607027760540', '8904091106400', '5000158100206', '9005441702415', '4605964003843',
        '4605095005570', '4030113647133', '4601026309458', '8901086080189', '5944702206733', '8906014100878',
        '7321838730871', '4607003248215', '4607083724241', '4013054001103', '8901278004023', '3838957885442',
        '3518646672248', '4603933002293', '4602565019617', '4610004580949', '4029438020141', '9006968003160',
        '8600097001007', '4603671002791', '3856013219000', '4602193012677', '4650069650461', '8901302062111',
        '4607008131857', '4603373003034', '8717627103206', '4605949001871', '8901278004047', '4607027765187',
        '4605180006307', '4601669010629', '4605180005126', '8901086080202', '4029799116255', '5450557010291',
        '3592752847714', '4605964003928', '4601969007428', '4607003244699', '5944702205231', '4601026308567',
        '8901043000427', '4603761001284', '4029438001010', '8934901810265', '5995327114590', '4601764001720',
        '4601026308529', '8901278005044', '4030855511204', '3838989513948', '4605469001474', '4601026308345',
        '4008617149873', '4606367001412', '4607003248307', '4030031894268', '7290102066599', '4650069651291',
        '5907529464205', '4029438005032', '4607008132373', '4604060003665', '4602884016564', '3582910082637',
        '5900257035020', '8901387007892', '5944702001161', '4030096254618', '4011548025765', '3582910090649',
        '3400935381316', '3400970000685', '4030855511198', '3856013217723', '4601026301469', '4607045190053',
        '8001090922731', '4607006677197', '8594737248917', '8901086041517', '4604060201634', '4030096245111',
        '4601669005830', '4030855399802', '8699516089825', '4607141998133', '4605095011700', '4016369663417',
        '4601669005533', '4607003244712', '4605894001025', '8594739224636', '4620004740236', '8901086100115',
        '5995327170060', '4610004580321', '4640018991288', '3574661132211', '4601969008098', '8901278005020',
        '8024825000122', '4607027768348', '3582910069331', '4607006670013', '4601764007395', '4008617148890',
        '4601669007667', '4030855492497', '5995327275147', '4670008162534', '5944702206856', '4602193011656',
        '5900004073176', '8906000570661', '5000456014830', '4030096288460', '4605964003850', '4605095009455',
        '8594737237911', '8594737184314', '4680020181116', '4605077012763', '5995327275024', '4604060004914',
        '4601669002341', '8901043000472', '8600097000994', '4607006676954', '4601669011893', '4605964003904',
        '4607146761350', '4605095011625', '5903060016361', '3838957051533', '4602813000671', '5995327211084',
        '4601808008319', '4029799134716', '4607045192385', '4602233006888', '8906000571194', '3582910082644',
        '4030855504855', '3838989669126', '4660003080049', '4607146760919', '5000158101784', '3582910090625',
        '4601969006964', '4603373002266', '4750258314188', '4605469001467', '4605964004611', '5350586000488',
        '4603762004499', '4601669007681', '8901148239487', '8594739224605', '5450557010284', '4602509003894',
        '4601669004208', '4605964004123', '3582910082651', '4602210002438', '4601669013477', '4250369500871',
        '4601669012975', '7038319033511', '4601808009842', '4602242005087', '3664798002942', '4029799131838',
        '4601669007209', '4810201002590', '4640026210463', '8901086041081', '4054839084416', '4054839156984',
        '4013054022894', '4605964004642', '8024825000115', '4605077013265', '4750258110414', '8904091106431',
        '3856013217624', '3870010000638', '3400935831316', '4605903007932', '3838989540357', '8901086040190',
        '8901148239494', '4602565016814', '4029799116231', '4603149000540', '4670012610526', '4605964003867',
        '4640026210449', '3800010629768', '4602824000448', '8901086100030', '4601026308314', '5050963017619',
        '4601969008081', '4605964003669', '4601808006445', '4601669003911', '4603365000195', '4602193011243',
        '4602509022093', '9006968004006', '7680275289008', '8717627104159', '3856013206550', '4601669007223',
        '4605964004116', '8904091107360', '4250369507214', '5997086103181', '4670010371252', '5995327130064',
        '4602824011420', '3858881052260', '8901387007861', '3582910090632', '4601969008074', '4603380000439',
        '5011321748767', '8901043000458', '4601669000576', '4630009620013', '3592753779731', '4603619000575',
        '4602824000066', '4601764007425', '4605903003996', '4601669010452', '8594737204616', '4602193012493',
        '5000158106994', '4603149000656', '4607045191944', '4607009582023', '5000158103733', '4670012610557',
        '4607045190213', '4601969006971', '8901086080196', '8717627104135', '4823002217407', '4660003080056',
        '8901148228726', '4605964003959', '4605180005867', '8901043000335', '4603671001152', '4820022930019',
        '3856013217631', '4030855489527', '7038319033498', '4601669008374', '4029125000036', '4603149000465',
        '4250369506439', '4030855505814', '5995327169156', '4030096245104', '4603671001565', '3856013217716',
        '8594739224629', '4029438020158', '4601764007418', '4605927001503', '3592751325299', '8901109217592',
        '4602565019600', '3582910069713', '7038319033504', '4030096119405', '3856013222710', '4603988014371',
        '4601026309373', '4607141998119', '4607045192279', '8594737249112', '4605964003836', '4610011895142',
        '5995377601484', '4030855000128', '4601969007404', '5997001303290', '4602809000081', '4602242010449',
        '4607013581036', '4029125000029']
N = 710
db_session.global_init("db/pharmacy.db")
session = db_session.create_session()
for K in range(100, 441):
    n = int(randint(60, 90) * N / 100)
    shuffle(data)
    for i in range(n):
        pharm = list(session.query(Med).filter(Med.barcode == int(data[i])))
        shuffle(pharm)
        d = Data()
        d.cost = pharm[0].cost
        shuffle(pharm)
        d.number = pharm[0].num
        d.barcode = data[i]
        d.pharmacy_id = K
        session.add(d)
        session.commit()
